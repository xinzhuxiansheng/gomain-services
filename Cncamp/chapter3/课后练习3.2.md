课后练习 3.2
• 构建本地镜像
• 编写 Dockerfile 将练习 2.2 编写的 httpserver 容器化
• 请思考有哪些最佳实践可以引入到 Dockerfile 中来
• 将镜像推送至 Docker 官方镜像仓库
• 通过 Docker 命令本地启动 httpserver
• 通过 nsenter 进入容器查看 IP 配置   


## 通过 nsenter 进入容器查看 IP 配置      
`nsenter` 是一个 Linux 命令行工具，用于进入到一个或多个 Linux 名字空间。它常被用于调试和管理容器，尤其是在没有提供交云接口或者你想要直接与容器的底层系统交互时。使用 `nsenter` 进入容器并查看 IP 配置，你需要执行以下步骤：

### 1. 获取容器的 PID
首先，你需要找到运行容器的进程 ID（PID）。如果你正在使用 Docker，可以使用 `docker inspect` 命令获取容器的 PID：
```bash
docker inspect --format '{{ .State.Pid }}' <容器ID或名称>
```
替换 `<容器ID或名称>` 为你的容器的实际 ID 或名称。

### 2. 使用 `nsenter` 进入容器
获得 PID 后，你可以使用 `nsenter` 命令并指定需要加入的名字空间。对于查看 IP 配置，通常需要进入网络名字空间：
```bash
sudo nsenter --target <PID> --net ip addr
```
替换 `<PID>` 为步骤 1 中找到的容器的 PID。这个命令会显示容器内部的网络接口配置信息，类似于在宿主机上运行 `ip addr` 命令的输出。           

### 示例
假设你的容器名称为 `mycontainer`，你可以按照以下步骤查看 IP 配置：
1. 找到容器的 PID：
```bash
docker inspect --format '{{ .State.Pid }}' mycontainer
```

2. 假设输出的 PID 是 `12345`，使用 `nsenter` 查看 IP 配置：
```bash
sudo nsenter --target 12345 --net ip addr
```

### 注意事项        
* `nsenter` 通常需要 `sudo` 或 root 权限来执行。         
* 确保你的系统支持 `nsenter` 命令。大多数现代 Linux 发行版都自带此工具，但在某些环境中可能需要单独安装。                                            
* 使用 `nsenter` 可能会对容器内部造成影响。请确保你了解正在执行的操作，并在生产环境中谨慎使用。                             